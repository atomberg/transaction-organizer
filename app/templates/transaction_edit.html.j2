{% extends "base.html.j2" %}
{% block title %}Index{% endblock %}

{% block scripts %}
<script type="text/javascript">

</script>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-12 text-center">
        <h1>Hi! I'm transaction #{{ transaction['id'] }}</h1>
        <p class="lead">Would you like to edit me or add a memo?</p>
    </div>
</div>
<!-- /.row -->

<div class="row">
    <table id="table_id" class="table">
        <tbody>
            <form id="edit" method="POST"
                action="{{ url_for('transactions.update', transaction_id=transaction['id']) }}">
                <tr>
                    <th>Person</th>
                    <td><select name="person_id" form="edit" class="form-control" value="{{ transaction['person'] }}">
                            <option value="{{ transaction['person_id'] }}">{{ transaction['person'] }}</option>
                        </select>
                    </td>
                    <td rowspan="4"><textarea name="memo" form="edit" class="form-control" rows="8"
                            {% if not transaction['memo'] %} placeholder="You can add a memo here"
                            {% endif %}>{{ transaction['memo'] }}</textarea></td>
                </tr>
                <tr>
                    <th>Date</th>
                    <td><input name="day" form="edit" class="form-control" type="date"
                            value="{{ transaction['date'] }}"></td>
                </tr>
                <tr>
                    <th>Method</th>
                    <td><input name="method" form="edit" class="suppliers form-control" type="text"
                            value="{{ transaction['method'] }}"></td>
                </tr>
                <tr>
                    <th>Amount</th>
                    <td><input name="amount" form="edit" class="form-control" type="text"
                            value="{{ transaction['amount'] }}"></td>
                </tr>
                <tr>
                    <th>Accepted by</th>
                    <td><input name="accepted_by" form="edit" class="categories form-control" type="text"
                            value="{{ transaction['accepted_by'] }}"></td>
                </tr>
            </form>
            <tr>
                <th>Actions</th>
                <td>
                    <input type="submit" form="edit" value="Save changes" class="btn btn-success">
                    <form style="display: inline;" method="POST"
                        action="{{ url_for('transactions.delete', transaction_id=transaction['id']) }}">
                        <input type="submit" class="btn btn-danger" value="Delete transaction">
                    </form>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div class="row">
    <i>Last modified {{ transaction['last_modified'] }}</i>
</div>
<div class="row">
    <i>Created on {{ transaction['created_at'] }}</i>
</div>
{% endblock %}