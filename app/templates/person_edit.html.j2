{% extends "base.html.j2" %}
{% block title %}Person card{% endblock %}

{% block scripts %}
<script type="text/javascript">
    $("#people-nav").removeClass("active");
    $("#transactions-nav").removeClass("active");
    $("#add-person-nav").removeClass("active");
    $("#add-transaction-nav").removeClass("active");
    $("#export-nav").removeClass("active");
</script>
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-12 text-center">
    <h1>{{ person['full_name'] }}</h1>
    <p class="lead">Would you like to edit me or add some notes?</p>
  </div>
</div>
<!-- /.row -->

<div class="row">
  <form id="edit" method="POST" action="{{ url_for('update_person_view', person_id=person['id']) }}">
  <table id="table_id" class="table">
    <tbody>
      <tr>
        <th>Last name</th>
        <td>
          <input name="last_name" form="edit" class="form-control" type="text" value="{{ person['last_name'] }}">
        </td>
        <td rowspan="5">
          <textarea name="notes" form="edit" class="form-control" rows="8"
            {% if not person['notes'] %}
              placeholder="You can add notes here"></textarea>
            {% else %}
              >{{ person['notes'] }}</textarea>
            {% endif %}
        </td>
      </tr>
      <tr>
        <th>First name</th>
        <td><input name="first_name" form="edit" class="form-control" type="text"
                value="{{ person['first_name'] }}"></td>
      </tr>
      <tr>
        <th>Email</th>
        <td><input name="email" form="edit" class="suppliers form-control" type="text"
                value="{{ person['email'] }}"></td>
      </tr>
      <tr>
        <th>Phone number</th>
        <td><input name="phone" form="edit" class="form-control" type="text"
                value="{{ person['phone'] }}"></td>
      </tr>
      <tr>
        <th>Address</th>
        <td>
          <textarea name="address" form="edit" class="categories form-control"rows="3">{{ person['address'] }}</textarea>
        </td>
      </tr>
      <tr>
        <th>Actions</th>
        <td>
            <input type="submit" form="edit" value="Save changes" class="btn btn-success">
            <a href="{{ url_for('delete_person_view', person_id=person['id']) }}" class="btn btn-danger">
            Delete person <i class="fa fa-remove"></i></a>
        </td>
        <td>
            <div class="row">
                <i>Last modified {{ person['last_modified'] }}</i>
            </div>
            <div class="row">
                <i>Created on {{ person['created_at'] }}</i>
            </div>
        </td>
      </tr>
    </tbody>
  </table>
  </form>
</div>
{% endblock %}